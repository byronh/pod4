<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    
    
<!--
 * Create Group page contains user inputs to creating a new group
 * User can only access this page by clicking "New Group" button on 
 * GroupEvent.xhtml
 *
 * Clicking "Create Group" or "cancel" buttons on this page redirects site
 * back to GroupEvent page.
 *
 * To add users to group, type email/name in the autocomplete box, select multiple users are allowed
 * -->
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>


        <ui:composition template="../WEB-INF/templates/UserAccountTemplate.xhtml">


            <ui:define name="content">
                <p:growl id="messages"/>  

                <p:panel id="contentPanel" header="Create Group" >  

                    <div id="groupInfo">
                        <h:form>
                            <h:outputText value="Group Name: "    />
                            <h:inputText styleClass="field" value="#{groupScheduleController.groupName}" title="groupName" id="groupName"></h:inputText>
                            
                            <br/><br/><br/>
                            <h:outputText value="Search and Add Members: "    />
                            <p:autoComplete id="searchUser" value="#{groupScheduleController.selectedUserList}"
                                            completeMethod="#{groupScheduleController.completeUsers}" multiple="true">
                                </p:autoComplete>
                            <!--
                                <f:facet name="itemtip">  
                                    <h:panelGrid  columns="2" cellpadding="5">  
                                        <f:facet name="header">  
                                             <p:graphicImage value="/resources/images/default.jpg" width="30" height="40" />  
                                        </f:facet>  

                                        <h:outputText value="Name: " />  
                                        <h:outputText value="#{user.fname} #{user.lname}" />  

                                        <h:outputText value="Email: " />  
                                        <h:outputText value="#{user.email}" />  

                                        <h:outputText value="Public Share: " />  
                                        <h:outputText value="#{p.public1}"/>  
                                    </h:panelGrid>  
                                </f:facet>  
                            -->
                            
                            <!--<p:watermark for="searchUser" value="name/email" />  watermark for autoComplete -->
                                     
                            <p:commandButton id="submitGroupB" type="submit" value="Finish" update="display" actionListener="#{groupScheduleController.createGroup}"/>
                            <p:button value="Cancel" outcome="Group Event"/> 

                        <p:dialog modal="true" widgetVar="textDialog" showEffect="fade" width="200" resizable="false" header="Selected Values">  
                            <p:outputPanel id="display">  
                                <p:dataList value="#{groupScheduleController.selectedUserList}" var="user" id="users">  
                                    <f:facet name="header">  
                                        Users  
                                    </f:facet>  
                                    <h:outputText value="" id="user"/>  
                                </p:dataList>  
                            </p:outputPanel>  
                        </p:dialog>  


                        </h:form>
                        <h:form>
                           <h:commandButton value="Create" action="#{groupScheduleController.createGroup}" />
                            
                        </h:form>
                    </div>
                </p:panel>  


            </ui:define>

        </ui:composition>
    </h:body>
</html>
                        <!--

                            <h:panelGrid columns="4" cellpaddindisplayLocationg="5">
                                <h:outputLabel for="name" value="Name:" style="font-weight:bold"/>

                                <p:autoComplete value="#{createGroupViewController.selectedUser}" id="customPojo" completeMethod="#{autoCompleteForUser.completeUser}"  
                                                var="user" itemLabel="#{user.fname}" itemValue="#{user}" converter="userConverter" forceSelection="true">  
                                    <p:column>  
                                        <p:graphicImage value="/resources/images/default.jpg" width="40" height="50"/>  
                                    </p:column>  

                                    <p:column>  
                                        #{user.fname} #{user.lname} @: #{user.email}
                                    </p:column>  
                                </p:autoComplete>

                                <p:commandButton value="Add" update="memberList" actionListener="#{createGroupViewController.addButtonActionListener}" id="addButton"/>

                                <p:orderList value="#{createGroupViewController.selectedUserList}" var="user" iconOnly="true" effect="clip"  
                                             itemValue="#{user}" converter="userConverter" controlsLocation="left" id="memberList">  
                                    <f:facet name="caption">Members in the Group</f:facet>  

                                    <p:column style="width:25%">  
                                        <p:graphicImage value="/resources/images/default.jpg" width="30" height="40" />  
                                    </p:column>  

                                    <p:column style="width:75%;">  
                                        #{user.fname} #{user.lname} @: #{user.email}
                                    </p:column>  
                                </p:orderList>  

                                <p:commandButton value="Submit" update="display" oncomplete="dlg.show()"/>  

                                <p:dialog header="Selected Players" widgetVar="dlg" showEffect="fade" hideEffect="fade" modal="true">  
                                    <h:panelGrid columns="1" id="display">   

                                        <h:outputText id="txt2" value="Controller needs to create a new group with the owner and the people on the list" />  
                                    </h:panelGrid>  
                                </p:dialog> 

                            </h:panelGrid>

                        </h:form>
                    </div>

                </p:panel>  


            </ui:define>

        </ui:composition>
    </h:body>
</html>

-->